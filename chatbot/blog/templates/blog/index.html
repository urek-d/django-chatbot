<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>chatbot</title>

    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'blog/style.css' %}">
    <script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>

  </head>
  <body >
    <h1 >Chatbot App.</h1>

    
<div>

<div id="chatbot"> 
    <p class="botText"> <span> yo !</span></p>

</div>

<div id="userInput">  

    <input type ="text" id="textInput" name ="userMessage" placeholder="entrez votre message"/>
    <input type ="submit" id="buttonInput" value="Envoyer" />

</div>

</div>
<script> 

function getUserResponse(){

    var userText = $('#textInput').val();
    var userHtml = "<p class='userText'>User: <span>" + userText + "</span></p>";
    $('#textInput').val("");
    $('#chatbot').append(userHtml);
    
    $.get('/blog/getResponse',{userMessage:userText}).done(function(data){

        var returnedMessage = "<p class='botText'>Chatbot:<span>"+ data +"</span></p>"
        $('#chatbot').append(returnedMessage);
    })
}

$('#buttonInput').click(function(){
    getUserResponse();
})
</script>

  </body>
</html>